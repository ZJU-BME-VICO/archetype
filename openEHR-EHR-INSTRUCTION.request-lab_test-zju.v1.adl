archetype (adl_version=1.4)
    openEHR-EHR-INSTRUCTION.request-lab_test-zju.v1
specialize
    openEHR-EHR-INSTRUCTION.request-lab_test.v1

concept
    [at0000.1.1]

language
    original_language = <[ISO_639-1::en]>

description
    original_author = <
        ["date"] = <"2009-12-08">
        ["name"] = <"Ian McNicoll">
        ["organisation"] = <"Ocean Informatics, United Kingdom">
        ["email"] = <"ian.mcnicoll@oceaninformatics.com">
    >
    lifecycle_state = <"AuthorDraft">
    details = <
        ["en"] = <
            language = <[ISO_639-1::en]>
            purpose = <"To request a laboratory test to be performed and convey supporting clinical details.">
            keywords = <"request","refer","order","service","provide","laboratory","pathology","microbiology","haematology","diagnostic">
            copyright = <"Â© openEHR Foundation">
            use = <"Use in most requests for a laboratory test to be conducted on a patient.
If there are more specific details about the test and/or specimen include this information in more detailed CLUSTER archetypes appropriate for the purpose.">
        >
    >
    other_details = <
        ["MD5-CAM-1.0.1"] = <"3D2186771DC2666AF39652CC7E76E684">
    >

definition
    INSTRUCTION[at0000.1.1] matches {
        subject matches {
            PartyProxy[at0.1.5] matches {
                externalRef matches {
                    PartyRef[at0.1.6] matches {
                        id matches {
                            GENERIC_ID[at0.1.7] matches {*}
                        }
                    }
                }
            }
        }
        activities cardinality matches {0..*; unordered} matches {
            ACTIVITY[at0001] occurrences matches {1..*} matches {
                description matches {
                    ITEM_TREE[at0009] matches {
                        items cardinality matches {1..*; unordered} matches {
                            ELEMENT[at0121] matches {
                                value matches {
                                    DV_TEXT matches {*}
                                }
                            }
                            ELEMENT[at0135] occurrences matches {0..1} matches {
                                value matches {
                                    DV_TEXT matches {*}
                                }
                            }
                            allow_archetype CLUSTER[at0132] occurrences matches {0..*} matches {
                                include
                                    archetype_id/value matches {/.*/}
                            }
                            allow_archetype CLUSTER[at0.145] occurrences matches {0..*} matches {
                                include
                                    archetype_id/value matches {/.*/}
                            }
                            ELEMENT[at0062] occurrences matches {0..1} matches {
                                value matches {
                                    DV_TEXT matches {*}
                                }
                            }
                            ELEMENT[at0064] occurrences matches {0..1} matches {
                                value matches {
                                    DV_TEXT matches {*}
                                }
                            }
                            ELEMENT[at0065] occurrences matches {0..1} matches {
                                value matches {
                                    DV_TEXT matches {*}
                                }
                            }
                            ELEMENT[at0068] occurrences matches {0..1} matches {
                                value matches {
                                    DV_CODED_TEXT matches {
                                        defining_code matches {
                                            [local::
                                            at0136,
                                            at0137,
                                            at0138]
                                        }
                                    }
                                }
                            }
                            ELEMENT[at0040.1] occurrences matches {0..1} matches {
                                value matches {
                                    DV_DATE_TIME matches {*}
                                }
                            }
                            ELEMENT[at0144.1] occurrences matches {0..1} matches {
                                value matches {
                                    DV_DATE_TIME matches {*}
                                }
                            }
                            ELEMENT[at0076] occurrences matches {0..1} matches {
                                value matches {
                                    DV_BOOLEAN matches {
                                        value matches {true}
                                    }
                                }
                            }
                            ELEMENT[at0078] occurrences matches {0..1} matches {
                                value matches {
                                    DV_TEXT matches {*}
                                }
                            }
                            allow_archetype CLUSTER[at0116] occurrences matches {0..*} matches {
                                include
                                    archetype_id/value matches {/.*/}
                            }
                        }
                    }
                }
            }
        }
        protocol matches {
            ITEM_TREE[at0008] matches {
                items cardinality matches {1..*; unordered} matches {
                    ELEMENT[at0010] occurrences matches {0..1} matches {
                        value matches {
                            DV_TEXT matches {*}
                        }
                    }
                    allow_archetype CLUSTER[at0141] occurrences matches {0..*} matches {
                        include
                            archetype_id/value matches {/.*/}
                    }
                    ELEMENT[at0011] occurrences matches {0..1} matches {
                        value matches {
                            DV_TEXT matches {*}
                        }
                    }
                    allow_archetype CLUSTER[at0142] occurrences matches {0..*} matches {
                        include
                            archetype_id/value matches {/.*/}
                    }
                    ELEMENT[at0127] occurrences matches {0..1} matches {
                        value matches {
                            DV_TEXT matches {*}
                        }
                    }
                    allow_archetype CLUSTER[at0128] occurrences matches {0..*} matches {
                        include
                            archetype_id/value matches {/openEHR-EHR-CLUSTER\.distribution\.v1/}
                    }
                    allow_archetype CLUSTER[at0112] occurrences matches {0..*} matches {
                        include
                            archetype_id/value matches {/.*/}
                    }
                    ELEMENT[at0.1.4] occurrences matches {0..1} matches {
                        value matches {
                            DV_DATE_TIME matches {*}
                        }
                    }
                }
            }
        }
        links cardinality matches {0..*; unordered} matches {
            LINK[at0.1.3] occurrences matches {1..*} matches {
                meaning matches {
                    DV_TEXT matches {
                        value matches {"related to"}
                    }
                }
                type matches {
                    DV_TEXT matches {*}
                }
                target matches {
                    DV_EHR_URI matches {*}
                }
            }
        }
		
        otherParticipations cardinality matches {0..*; unordered} matches {
            PARTICIPATION[at0.1.8] occurrences matches {1..*} matches {
                function matches {
                    DV_TEXT matches {
                        value matches {"Request doctor"}
                    }
                }
                performer matches {
                    PartyProxy[at0.1.9] matches {
                        externalRef matches {
                            PartyRef[at0.1.10] matches {
                                id matches {
                                    GENERIC_ID[at0.1.11] matches {*}
                                }
                            }
                        }
                    }
                }
            }
            PARTICIPATION[at0.1.12] occurrences matches {1..*} matches {
                function matches {
                    DV_TEXT matches {
                        value matches {"Receive department"}
                    }
                }
                performer matches {
                    PartyProxy[at0.1.13] matches {
                        externalRef matches {
                            PartyRef[at0.1.14] matches {
                                id matches {
                                    GENERIC_ID[at0.1.15] matches {*}
                                }
                            }
                        }
                    }
                }
            }
		}
    }

ontology
    term_definitions = <
        ["en"] = <
            items = <
                ["at0.145"] = <
                    text = <"Specimen details">
                    description = <"Structured detail defining the specimen.">

                >
                ["at0000"] = <
                    text = <"Healthcare service request">
                    description = <"Generic request for a range of different healthcare services e.g referral, lab request, equipment request.">

                >
                ["at0000.1"] = <
                    text = <"Laboratory Test request">
                    description = <"Generic request for a laboratory request.">

                >
                ["at0000.1.1"] = <
                    text = <"Laboratory Test request">
                    description = <"Generic request for a laboratory request.">

                >
                ["at0001"] = <
                    text = <"Request">
                    description = <"Current Activity.">

                >
                ["at0008"] = <
                    text = <"Tree">
                    description = <"@ internal @">

                >
                ["at0009"] = <
                    text = <"Tree">
                    description = <"@ internal @">

                >
                ["at0010"] = <
                    text = <"Requestor Identifier">
                    description = <"The local ID assigned to the order by the healthcare provider or organisation requesting the service. This is also referred to as Placer Order Identifier.">

                >
                ["at0011"] = <
                    text = <"Receiver identifier">
                    description = <"The ID assigned to the order by the healthcare provider or organisation receiving the request for service. This is also referred to as Filler Order Identifier.">

                >
                ["at0040"] = <
                    text = <"Date &/or time service required">
                    description = <"The date and time that the service should be performed or completed.">

                >
                ["at0040.1"] = <
                    text = <"DateTime test preferred">
                    description = <"The preferred date and time by which the service should be performed or completed.">

                >
                ["at0062"] = <
                    text = <"Reason for request">
                    description = <"A short description of the reason for the request.  This is often coded with an external terminology.">

                >
                ["at0064"] = <
                    text = <"Reason description">
                    description = <"A narrative description explaining the reason for request.">

                >
                ["at0065"] = <
                    text = <"Intent">
                    description = <"Stated intent of the request by the referrer.">

                >
                ["at0068"] = <
                    text = <"Urgency">
                    description = <"Urgency of the request.">

                >
                ["at0076"] = <
                    text = <"Supplementary information to follow">
                    description = <"True indicates that additional information has been identified and will be forwarded when available eg incomplete pathology test results.">

                >
                ["at0078"] = <
                    text = <"Supplementary information expected">
                    description = <"Details of the nature of supplementary information that is to follow e.g name of laboratory results.">

                >
                ["at0112"] = <
                    text = <"Localisation">
                    description = <"Local detailed information such as billing requirements.">

                >
                ["at0116"] = <
                    text = <"Patient requirements">
                    description = <"Language, transport or other personal requirements to support the patient's attendance or participation in provision of the service.">

                >
                ["at0121"] = <
                    text = <"Service requested">
                    description = <"Identification of the service requested. This is often coded with an external terminology.">

                >
                ["at0127"] = <
                    text = <"Request status">
                    description = <"The status of the request for service as indicated by the requester. Status is used to denote whether this is the initial request, or a follow-up request to change or provide supplementary information.">

                >
                ["at0128"] = <
                    text = <"Distribution list for response">
                    description = <"A list of person's or organisation who should receive copies of any communication.">

                >
                ["at0132"] = <
                    text = <"Specific details">
                    description = <"Structured detail defining the service requested eg CLUSTER archetype specifying the specific catheter that is to be inserted.">

                >
                ["at0135"] = <
                    text = <"Description of service">
                    description = <"A detailed narrative description of the service requested.">

                >
                ["at0136"] = <
                    text = <"Emergency">
                    description = <"The request is an emergency.">

                >
                ["at0137"] = <
                    text = <"Urgent">
                    description = <"The request is urgent.">

                >
                ["at0138"] = <
                    text = <"Routine">
                    description = <"The request is routine.">

                >
                ["at0141"] = <
                    text = <"Requestor">
                    description = <"Details about the healthcare provider or organisation requesting the service.">

                >
                ["at0142"] = <
                    text = <"Receiver">
                    description = <"Details about the healthcare provider or organisation receiving the request for service.">

                >
                ["at0144"] = <
                    text = <"Latest date service required">
                    description = <"The latest date that is acceptable for the service to be completed.">

                >
                ["at0144.1"] = <
                    text = <"Latest DateTime test required">
                    description = <"The latest date that is acceptable for the service to be completed.">

                >
                ["at0.1.3"] = <
                    text = <"Addmission">
                    description = <"">

                >
                ["at0.1.4"] = <
                    text = <"DateTime test requirement ordered">
                    description = <"The date that the request is ordered.">

                >
                ["at0.1.5"] = <
                    text = <"Patient">
                    description = <"*">

                >
                ["at0.1.6"] = <
                    text = <"Patient reference">
                    description = <"*">

                >
                ["at0.1.7"] = <
                    text = <"Patient id">
                    description = <"*">

                >
                ["at0.1.8"] = <
                    text = <"Request doctor">
                    description = <"*">

                >
                ["at0.1.9"] = <
                    text = <"Request doctor">
                    description = <"*">

                >
                ["at0.1.10"] = <
                    text = <"Request doctor reference">
                    description = <"*">

                >
                ["at0.1.11"] = <
                    text = <"Request doctor id">
                    description = <"*">

                >
                ["at0.1.12"] = <
                    text = <"Receive department">
                    description = <"*">

                >
                ["at0.1.13"] = <
                    text = <"Receive department">
                    description = <"*">

                >
                ["at0.1.14"] = <
                    text = <"Receive department reference">
                    description = <"*">

                >
                ["at0.1.15"] = <
                    text = <"Receive department id">
                    description = <"*">

                >
            >
        >
    >
    constraint_definitions = <
    >
    term_binding = <
    >
    constraint_binding = <
    >
